"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _express = require("express");
var _UserController = _interopRequireDefault(require("../../controllers/UserController"));
var _auth = _interopRequireWildcard(require("../../middlewares/auth.middleware"));
var _auth2 = _interopRequireDefault(require("../../validations/auth"));
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const userRouter = (0, _express.Router)();
userRouter.get('/', _auth.default, _auth.allowedRoles, _UserController.default.getUsers);
userRouter.get('/:id', _auth.default, _auth.allowedRoles, _UserController.default.getUserById);
userRouter.get('/:userId/referrals', _auth.default, _UserController.default.getReferrals);
userRouter.post('/', _auth.default, _auth.allowedRoles, _auth2.default.signup, _UserController.default.createUser);
userRouter.put('/:id', _auth.default, _auth.allowedRoles, _auth2.default.update, _UserController.default.updateUser);
userRouter.delete('/:id', _auth.default, _auth.allowedRoles, _UserController.default.deleteUser);
var _default = userRouter;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyUm91dGVyIiwiUm91dGVyIiwiZ2V0IiwiYXV0aE1pZGRsZXdhcmUiLCJhbGxvd2VkUm9sZXMiLCJVc2VyQ29udHJvbGxlciIsImdldFVzZXJzIiwiZ2V0VXNlckJ5SWQiLCJnZXRSZWZlcnJhbHMiLCJwb3N0IiwiQXV0aFZhbGlkYXRlIiwic2lnbnVwIiwiY3JlYXRlVXNlciIsInB1dCIsInVwZGF0ZSIsInVwZGF0ZVVzZXIiLCJkZWxldGUiLCJkZWxldGVVc2VyIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2FwcC9yb3V0ZXMvdXNlcnMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBVc2VyQ29udHJvbGxlciBmcm9tICcuLi8uLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlcic7XHJcbmltcG9ydCBhdXRoTWlkZGxld2FyZSwge1xyXG4gIGFsbG93ZWRSb2xlcyxcclxufSBmcm9tICcuLi8uLi9taWRkbGV3YXJlcy9hdXRoLm1pZGRsZXdhcmUnO1xyXG5pbXBvcnQgQXV0aFZhbGlkYXRlIGZyb20gJy4uLy4uL3ZhbGlkYXRpb25zL2F1dGgnO1xyXG5cclxuY29uc3QgdXNlclJvdXRlciA9IFJvdXRlcigpO1xyXG51c2VyUm91dGVyLmdldChcclxuICAnLycsXHJcbiAgYXV0aE1pZGRsZXdhcmUsXHJcbiAgYWxsb3dlZFJvbGVzLFxyXG4gIFVzZXJDb250cm9sbGVyLmdldFVzZXJzLFxyXG4pO1xyXG51c2VyUm91dGVyLmdldChcclxuICAnLzppZCcsXHJcbiAgYXV0aE1pZGRsZXdhcmUsXHJcbiAgYWxsb3dlZFJvbGVzLFxyXG4gIFVzZXJDb250cm9sbGVyLmdldFVzZXJCeUlkLFxyXG4pO1xyXG51c2VyUm91dGVyLmdldChcclxuICAnLzp1c2VySWQvcmVmZXJyYWxzJyxcclxuICBhdXRoTWlkZGxld2FyZSxcclxuICBVc2VyQ29udHJvbGxlci5nZXRSZWZlcnJhbHMsXHJcbik7XHJcbnVzZXJSb3V0ZXIucG9zdChcclxuICAnLycsXHJcbiAgYXV0aE1pZGRsZXdhcmUsXHJcbiAgYWxsb3dlZFJvbGVzLFxyXG4gIEF1dGhWYWxpZGF0ZS5zaWdudXAsXHJcbiAgVXNlckNvbnRyb2xsZXIuY3JlYXRlVXNlcixcclxuKTtcclxudXNlclJvdXRlci5wdXQoXHJcbiAgJy86aWQnLFxyXG4gIGF1dGhNaWRkbGV3YXJlLFxyXG4gIGFsbG93ZWRSb2xlcyxcclxuICBBdXRoVmFsaWRhdGUudXBkYXRlLFxyXG4gIFVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXIsXHJcbik7XHJcbnVzZXJSb3V0ZXIuZGVsZXRlKFxyXG4gICcvOmlkJyxcclxuICBhdXRoTWlkZGxld2FyZSxcclxuICBhbGxvd2VkUm9sZXMsXHJcbiAgVXNlckNvbnRyb2xsZXIuZGVsZXRlVXNlcixcclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJSb3V0ZXI7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFBa0Q7QUFBQTtBQUFBO0FBRWxELE1BQU1BLFVBQVUsR0FBRyxJQUFBQyxlQUFNLEdBQUU7QUFDM0JELFVBQVUsQ0FBQ0UsR0FBRyxDQUNaLEdBQUcsRUFDSEMsYUFBYyxFQUNkQyxrQkFBWSxFQUNaQyx1QkFBYyxDQUFDQyxRQUFRLENBQ3hCO0FBQ0ROLFVBQVUsQ0FBQ0UsR0FBRyxDQUNaLE1BQU0sRUFDTkMsYUFBYyxFQUNkQyxrQkFBWSxFQUNaQyx1QkFBYyxDQUFDRSxXQUFXLENBQzNCO0FBQ0RQLFVBQVUsQ0FBQ0UsR0FBRyxDQUNaLG9CQUFvQixFQUNwQkMsYUFBYyxFQUNkRSx1QkFBYyxDQUFDRyxZQUFZLENBQzVCO0FBQ0RSLFVBQVUsQ0FBQ1MsSUFBSSxDQUNiLEdBQUcsRUFDSE4sYUFBYyxFQUNkQyxrQkFBWSxFQUNaTSxjQUFZLENBQUNDLE1BQU0sRUFDbkJOLHVCQUFjLENBQUNPLFVBQVUsQ0FDMUI7QUFDRFosVUFBVSxDQUFDYSxHQUFHLENBQ1osTUFBTSxFQUNOVixhQUFjLEVBQ2RDLGtCQUFZLEVBQ1pNLGNBQVksQ0FBQ0ksTUFBTSxFQUNuQlQsdUJBQWMsQ0FBQ1UsVUFBVSxDQUMxQjtBQUNEZixVQUFVLENBQUNnQixNQUFNLENBQ2YsTUFBTSxFQUNOYixhQUFjLEVBQ2RDLGtCQUFZLEVBQ1pDLHVCQUFjLENBQUNZLFVBQVUsQ0FDMUI7QUFBQyxlQUVhakIsVUFBVTtBQUFBIn0=