"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _express = require("express");
var _auth = _interopRequireWildcard(require("../../middlewares/auth.middleware"));
var _SubscriberController = _interopRequireDefault(require("../../controllers/SubscriberController"));
var _subscriber = _interopRequireDefault(require("../../validations/subscriber"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
const subscriberRouter = (0, _express.Router)();
subscriberRouter.get('/', _auth.default, _auth.allowedRoles, _SubscriberController.default.getAll);
subscriberRouter.post('/', _subscriber.default.create, _SubscriberController.default.create);
subscriberRouter.get('/:id', _auth.default, _auth.allowedRoles, _SubscriberController.default.getOne);
subscriberRouter.put('/:id', _auth.default, _auth.allowedRoles, _subscriber.default.create, _SubscriberController.default.updateItem);
subscriberRouter.delete('/:id', _auth.default, _auth.allowedRoles, _SubscriberController.default.delete);
var _default = subscriberRouter;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzdWJzY3JpYmVyUm91dGVyIiwiUm91dGVyIiwiZ2V0IiwiYXV0aE1pZGRsZXdhcmUiLCJhbGxvd2VkUm9sZXMiLCJTdWJzY3JpYmVyQ29udHJvbGxlciIsImdldEFsbCIsInBvc3QiLCJTdWJzY3JpYmVWYWxpZGF0ZSIsImNyZWF0ZSIsImdldE9uZSIsInB1dCIsInVwZGF0ZUl0ZW0iLCJkZWxldGUiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYXBwL3JvdXRlcy9zdWJzY3JpYmVyL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgYXV0aE1pZGRsZXdhcmUsIHtcclxuICBhbGxvd2VkUm9sZXMsXHJcbn0gZnJvbSAnLi4vLi4vbWlkZGxld2FyZXMvYXV0aC5taWRkbGV3YXJlJztcclxuaW1wb3J0IFN1YnNjcmliZXJDb250cm9sbGVyIGZyb20gJy4uLy4uL2NvbnRyb2xsZXJzL1N1YnNjcmliZXJDb250cm9sbGVyJztcclxuaW1wb3J0IFN1YnNjcmliZVZhbGlkYXRlIGZyb20gJy4uLy4uL3ZhbGlkYXRpb25zL3N1YnNjcmliZXInO1xyXG5cclxuY29uc3Qgc3Vic2NyaWJlclJvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuc3Vic2NyaWJlclJvdXRlci5nZXQoXHJcbiAgJy8nLFxyXG4gIGF1dGhNaWRkbGV3YXJlLFxyXG4gIGFsbG93ZWRSb2xlcyxcclxuICBTdWJzY3JpYmVyQ29udHJvbGxlci5nZXRBbGwsXHJcbik7XHJcbnN1YnNjcmliZXJSb3V0ZXIucG9zdChcclxuICAnLycsXHJcbiAgU3Vic2NyaWJlVmFsaWRhdGUuY3JlYXRlLFxyXG4gIFN1YnNjcmliZXJDb250cm9sbGVyLmNyZWF0ZSxcclxuKTtcclxuc3Vic2NyaWJlclJvdXRlci5nZXQoXHJcbiAgJy86aWQnLFxyXG4gIGF1dGhNaWRkbGV3YXJlLFxyXG4gIGFsbG93ZWRSb2xlcyxcclxuICBTdWJzY3JpYmVyQ29udHJvbGxlci5nZXRPbmUsXHJcbik7XHJcbnN1YnNjcmliZXJSb3V0ZXIucHV0KFxyXG4gICcvOmlkJyxcclxuICBhdXRoTWlkZGxld2FyZSxcclxuICBhbGxvd2VkUm9sZXMsXHJcbiAgU3Vic2NyaWJlVmFsaWRhdGUuY3JlYXRlLFxyXG4gIFN1YnNjcmliZXJDb250cm9sbGVyLnVwZGF0ZUl0ZW0sXHJcbik7XHJcbnN1YnNjcmliZXJSb3V0ZXIuZGVsZXRlKFxyXG4gICcvOmlkJyxcclxuICBhdXRoTWlkZGxld2FyZSxcclxuICBhbGxvd2VkUm9sZXMsXHJcbiAgU3Vic2NyaWJlckNvbnRyb2xsZXIuZGVsZXRlLFxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3Vic2NyaWJlclJvdXRlcjtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUE2RDtBQUFBO0FBQUE7QUFFN0QsTUFBTUEsZ0JBQWdCLEdBQUcsSUFBQUMsZUFBTSxHQUFFO0FBRWpDRCxnQkFBZ0IsQ0FBQ0UsR0FBRyxDQUNsQixHQUFHLEVBQ0hDLGFBQWMsRUFDZEMsa0JBQVksRUFDWkMsNkJBQW9CLENBQUNDLE1BQU0sQ0FDNUI7QUFDRE4sZ0JBQWdCLENBQUNPLElBQUksQ0FDbkIsR0FBRyxFQUNIQyxtQkFBaUIsQ0FBQ0MsTUFBTSxFQUN4QkosNkJBQW9CLENBQUNJLE1BQU0sQ0FDNUI7QUFDRFQsZ0JBQWdCLENBQUNFLEdBQUcsQ0FDbEIsTUFBTSxFQUNOQyxhQUFjLEVBQ2RDLGtCQUFZLEVBQ1pDLDZCQUFvQixDQUFDSyxNQUFNLENBQzVCO0FBQ0RWLGdCQUFnQixDQUFDVyxHQUFHLENBQ2xCLE1BQU0sRUFDTlIsYUFBYyxFQUNkQyxrQkFBWSxFQUNaSSxtQkFBaUIsQ0FBQ0MsTUFBTSxFQUN4QkosNkJBQW9CLENBQUNPLFVBQVUsQ0FDaEM7QUFDRFosZ0JBQWdCLENBQUNhLE1BQU0sQ0FDckIsTUFBTSxFQUNOVixhQUFjLEVBQ2RDLGtCQUFZLEVBQ1pDLDZCQUFvQixDQUFDUSxNQUFNLENBQzVCO0FBQUMsZUFFYWIsZ0JBQWdCO0FBQUEifQ==