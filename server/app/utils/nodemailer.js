"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _nodemailer = _interopRequireDefault(require("nodemailer"));
var _keys = _interopRequireDefault(require("../keys"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const sendEmail = (email, subject, message, title = 'Play in rwanda') => {
  const port = Number(_keys.default.TRANSPORTER_PORT);
  const transporter = _nodemailer.default.createTransport({
    host: _keys.default.TRANSPORTER_SERVICE,
    port,
    auth: {
      user: _keys.default.SERVICE_USERNAME,
      pass: _keys.default.SERVICE_PASSWORD
    },
    secure: port === 465,
    logger: false,
    debug: false
  });
  const Options = {
    from: `${title} <${_keys.default.SERVICE_USERNAME}>`,
    to: email,
    subject,
    html: message
  };
  return transporter.sendMail(Options, error => {
    if (error) {
      console.log(error.message);
    }
  });
};
var _default = sendEmail;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzZW5kRW1haWwiLCJlbWFpbCIsInN1YmplY3QiLCJtZXNzYWdlIiwidGl0bGUiLCJwb3J0IiwiTnVtYmVyIiwiS2V5cyIsIlRSQU5TUE9SVEVSX1BPUlQiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwiVFJBTlNQT1JURVJfU0VSVklDRSIsImF1dGgiLCJ1c2VyIiwiU0VSVklDRV9VU0VSTkFNRSIsInBhc3MiLCJTRVJWSUNFX1BBU1NXT1JEIiwic2VjdXJlIiwibG9nZ2VyIiwiZGVidWciLCJPcHRpb25zIiwiZnJvbSIsInRvIiwiaHRtbCIsInNlbmRNYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2FwcC91dGlscy9ub2RlbWFpbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInO1xyXG5pbXBvcnQgS2V5cyBmcm9tICcuLi9rZXlzJztcclxuXHJcbmNvbnN0IHNlbmRFbWFpbCA9IChcclxuICBlbWFpbDogc3RyaW5nLFxyXG4gIHN1YmplY3Q6IHN0cmluZyxcclxuICBtZXNzYWdlOiBzdHJpbmcsXHJcbiAgdGl0bGUgPSAnUGxheSBpbiByd2FuZGEnLFxyXG4pID0+IHtcclxuICBjb25zdCBwb3J0ID0gTnVtYmVyKEtleXMuVFJBTlNQT1JURVJfUE9SVCk7XHJcbiAgY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XHJcbiAgICBob3N0OiBLZXlzLlRSQU5TUE9SVEVSX1NFUlZJQ0UsXHJcbiAgICBwb3J0LFxyXG4gICAgYXV0aDoge1xyXG4gICAgICB1c2VyOiBLZXlzLlNFUlZJQ0VfVVNFUk5BTUUsXHJcbiAgICAgIHBhc3M6IEtleXMuU0VSVklDRV9QQVNTV09SRCxcclxuICAgIH0sXHJcbiAgICBzZWN1cmU6IHBvcnQgPT09IDQ2NSxcclxuICAgIGxvZ2dlcjogZmFsc2UsXHJcbiAgICBkZWJ1ZzogZmFsc2UsXHJcbiAgfSk7XHJcbiAgY29uc3QgT3B0aW9ucyA9IHtcclxuICAgIGZyb206IGAke3RpdGxlfSA8JHtLZXlzLlNFUlZJQ0VfVVNFUk5BTUV9PmAsXHJcbiAgICB0bzogZW1haWwsXHJcbiAgICBzdWJqZWN0LFxyXG4gICAgaHRtbDogbWVzc2FnZSxcclxuICB9O1xyXG4gIHJldHVybiB0cmFuc3BvcnRlci5zZW5kTWFpbChPcHRpb25zLCBlcnJvciA9PiB7XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzZW5kRW1haWw7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUEyQjtBQUUzQixNQUFNQSxTQUFTLEdBQUcsQ0FDaEJDLEtBQWEsRUFDYkMsT0FBZSxFQUNmQyxPQUFlLEVBQ2ZDLEtBQUssR0FBRyxnQkFBZ0IsS0FDckI7RUFDSCxNQUFNQyxJQUFJLEdBQUdDLE1BQU0sQ0FBQ0MsYUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQztFQUMxQyxNQUFNQyxXQUFXLEdBQUdDLG1CQUFVLENBQUNDLGVBQWUsQ0FBQztJQUM3Q0MsSUFBSSxFQUFFTCxhQUFJLENBQUNNLG1CQUFtQjtJQUM5QlIsSUFBSTtJQUNKUyxJQUFJLEVBQUU7TUFDSkMsSUFBSSxFQUFFUixhQUFJLENBQUNTLGdCQUFnQjtNQUMzQkMsSUFBSSxFQUFFVixhQUFJLENBQUNXO0lBQ2IsQ0FBQztJQUNEQyxNQUFNLEVBQUVkLElBQUksS0FBSyxHQUFHO0lBQ3BCZSxNQUFNLEVBQUUsS0FBSztJQUNiQyxLQUFLLEVBQUU7RUFDVCxDQUFDLENBQUM7RUFDRixNQUFNQyxPQUFPLEdBQUc7SUFDZEMsSUFBSSxFQUFHLEdBQUVuQixLQUFNLEtBQUlHLGFBQUksQ0FBQ1MsZ0JBQWlCLEdBQUU7SUFDM0NRLEVBQUUsRUFBRXZCLEtBQUs7SUFDVEMsT0FBTztJQUNQdUIsSUFBSSxFQUFFdEI7RUFDUixDQUFDO0VBQ0QsT0FBT00sV0FBVyxDQUFDaUIsUUFBUSxDQUFDSixPQUFPLEVBQUVLLEtBQUssSUFBSTtJQUM1QyxJQUFJQSxLQUFLLEVBQUU7TUFDVEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQ3hCLE9BQU8sQ0FBQztJQUM1QjtFQUNGLENBQUMsQ0FBQztBQUNKLENBQUM7QUFBQyxlQUVhSCxTQUFTO0FBQUEifQ==